---
// Slider.astro

const images = [
  "/assets/sliderimages/3cd72364f18fa9b0ac1c25c967e1d3e9.jpeg",
  "/assets/sliderimages/562bc84c2c1ae33b794180f3a2d8718e.jpeg",
  "/assets/sliderimages/PortraitCard.png",
  "/assets/sliderimages/3cd72364f18fa9b0ac1c25c967e1d3e9.jpeg",
  "/assets/sliderimages/PortraitCard.png",
  "/assets/sliderimages/PortraitCard.png",
];

// Group images in sets of 3 for each slide
const imageGroups = [];
for (let i = 0; i < images.length; i += 3) {
  imageGroups.push(images.slice(i, i + 3));
}
---

<div class="container position-relative margin-b">
  <!-- Previous Arrow Button -->
  <button
    class="btn slider-arrow prev-arrow"
    data-bs-target="#customSlider"
    data-bs-slide="prev"
    aria-label="Previous Slide"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  </button>

  <!-- Slider -->
  <div id="customSlider" class="carousel slide" data-bs-ride="carousel">
    <!-- Indicators (dots) -->
    <div class="carousel-indicators">
      {
        imageGroups.map((_, index) => (
          <button
            type="button"
            data-bs-target="#customSlider"
            data-bs-slide-to={index}
            class={index === 0 ? "active" : ""}
            aria-current={index === 0 ? "true" : "false"}
            aria-label={`Slide ${index + 1}`}
            key={index}
          />
        ))
      }
    </div>

    <div class="carousel-inner">
      {
        imageGroups.map((group, index) => (
          <div
            class={`carousel-item ${index === 0 ? "active" : ""}`}
            key={index}
          >
            <div class="d-flex justify-content-center justify-content-sm-around">
              {group.map((src, idx) => (
                <img
                  src={src}
                  key={idx}
                  class="d-block img-fluid"
                  style="height: 400px; object-fit: cover;"
                  alt={`Slide ${idx + 1}`}
                />
              ))}
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <!-- Next Arrow Button -->
  <button
    class="btn slider-arrow next-arrow"
    data-bs-target="#customSlider"
    data-bs-slide="next"
    aria-label="Next Slide"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
  </button>
</div>

<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<style>
  .carousel-control-prev-icon {
    background-image: url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%232F3396"%3e%3cpath d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" stroke="%232F3396" stroke-width="2"/%3e%3c/svg%3e');
  }

  .carousel-control-next-icon {
    background-image: url('data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%232F3396"%3e%3cpath d="M4.646 1.646a.5.5 0 0 0 0 .708L10.293 8 4.646 13.646a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708l-6-6a.5.5 0 0 0-.708 0z" stroke="%232F3396" stroke-width="2"/%3e%3c/svg%3e');
  }
  .margin-b {
    margin-bottom: 85px;
  }
  .slider-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;

    border: none;
  }
  .prev-arrow {
    color: #2f3396;
    left: -3%;
  }
  .next-arrow {
    color: #2f3396;
    right: -3%;
  }
  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    background-size: 100%, 100%;
  }

  .carousel-indicators button {
    background-color: transparent;
    border: 1px solid #2f3396;
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }
  .carousel-indicators {
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 2;
    display: flex;
    justify-content: center;
    padding: 0;
    margin-right: 15%;
    margin-bottom: -2rem;
    margin-left: 15%;
  }
  .carousel-indicators .active {
    background-color: #2f3396;
  }

  /* Mobile and Tablet Adjustments */
  @media (max-width: 768px) {
    .slider-arrow {
      left: 0;
      right: 0;
      transform: translateY(-50%);
    }

    .carousel-inner {
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .carousel-item {
      text-align: center;
    }

    .carousel-indicators {
      margin-right: 0;
      margin-left: 0;
      bottom: -1rem;
    }

    .carousel-item img {
      width: 100%;
      height: auto;
    }
  }
</style>

<!-- Bootstrap JS Bundle with Popper -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
></script>
